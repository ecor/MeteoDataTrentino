
R version 3.3.0 (2016-05-03) -- "Supposedly Educational"
Copyright (C) 2016 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu (64-bit)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

[Previously saved workspace restored]

> #!/usr/bin/env Rscript
> # file appendSmetData.R
> #
> # This file contains instructions for creating SMET files with weather data of Trentino
> #
> # author: Emanuele Cordano on 21-05-2015
> 
> #This program is free software: you can redistribute it and/or modify
> #it under the terms of the GNU General Public License as published by
> #the Free Software Foundation, either version 3 of the License, or
> #(at your option) any later version.
> #
> #This program is distributed in the hope that it will be useful,
> #but WITHOUT ANY WARRANTY; without even the implied warranty of
> #MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
> #GNU General Public License for more details.
> #
> #You should have received a copy of the GNU General Public License
> #along with this program.  If not, see <http://www.gnu.org/licenses/>.
> 
> ###############################################################################
> rm(list=ls())
> 
> library(MeteoDataTrentino)
Loading required package: XML
Loading required package: stringr
Loading required package: sp
Loading required package: RSMET
> library(RSMET)
> 
> 
> 
> 
> oldsmetdir <- '/home/ecor/local/MeteoDataTrentino/inst/smet' 
> 
> appendsmet_dir <- oldsmetdir ###'/home/ecor/Dropbox/R-packages/MeteoDataBayern/inst/a_smet'
> 
> 
> # TO DO 
> #newsmet <- getMeteoDataPiemonte(x=getPiemonteJSON(destfile=jsonfile))
> 
> metadata <- getMetaDataTrentino(return.type="list")
'data.frame':	206 obs. of  11 variables:
 $ station_id       : chr  "T0154" "T0405" "T0153" "T0146" ...
 $ station_name     : chr  "Ala (Convento)" "Ala (Maso Le Pozze)" "Ala (Ronchi)" "Aldeno (San Zeno)" ...
 $ station_shortname: chr  "Ala Convento" "SM Ala Maso Le Pozze" "SM Ala Ronchi" "SM Aldeno San Zeno" ...
 $ altitude         : num  165 170 692 182 91 115 85 698 710 843 ...
 $ latitude         : num  45.8 45.8 45.7 46 45.9 ...
 $ longitude        : num  11 11 11.1 11.1 10.9 ...
 $ x                : num  655530 657305 660674 662061 646623 ...
 $ y                : num  5069007 5072278 5067150 5092600 5087182 ...
 $ location         : chr  "Ala (Convento)" "Ala (Maso Le Pozze)" "Ala (Ronchi)" "Aldeno (San Zeno)" ...
 $ y_               : num  45.8 45.8 45.7 46 45.9 ...
 $ x_               : num  11 11 11.1 11.1 10.9 ...
Maximum error coordinate: 387.002022 along x and 109.986139 along y!
    station_id                station_name    station_shortname altitude
14       T0443 Brentonico (Santa Caterina)  SM Brentonico S. C.      727
18       T0323          Campodenno (frana) MTX Campodenno frana      610
21       T0445     Canazei (Coi de Paussa)   SEBA Coi de Paussa     2376
22       T0421                      Caoria            SM Caoria      803
26       T0418 Castelfondo (Malga Castrin)     SM Malga Castrin     1815
38       T0160           Cimego (Centrale)      Cimego Centrale      490
104      T0008                  Paneveggio     IASMA Paneveggio     1540
111      T0082               Passo Mendola     SM Passo Mendola     1315
113      T0103                 Passo Rolle       SM Passo Rolle     2012
124      T0380 Pian Palu' (Malga Giumella)    SM Malga Giumella     1945
139      T0076        Rabbi (San Bernardo)          S. Bernardo     1132
146      T0147                    Rovereto          SM Rovereto      203
198      T0364 Vermiglio (Capanna Presena) SEBA Capanna Presena     2730
    latitude longitude        x       y                    location       x_
14  45.82393  10.95981 652226.0 5076359 Brentonico (Santa Caterina) 652232.7
18  46.25978  11.02838 656324.0 5124913          Campodenno (frana) 656324.0
21  46.47196  11.84901 718717.0 5150433     Canazei (Coi de Paussa) 718717.4
22  46.19188  11.68384 707093.3 5118869                      Caoria 707093.0
26  46.51037  11.04392 656802.0 5152784 Castelfondo (Malga Castrin) 656802.0
38  45.92035  10.62704 626142.0 5086558           Cimego (Centrale) 626165.4
104 46.30952  11.74751 711553.0 5132108                  Paneveggio 711553.0
111 46.41918  11.18934 668238.0 5142951               Passo Mendola 668238.7
113 46.29797  11.78697 714636.0 5130930                 Passo Rolle 714636.4
124 46.34087  10.61249 624098.1 5133198 Pian Palu' (Malga Giumella) 624088.8
139 46.40048  10.84439 642167.0 5140308        Rabbi (San Bernardo) 641780.0
146 45.89644  11.04379 658565.0 5084532                    Rovereto 658549.0
198 46.22799  10.58013 621741.0 5120602 Vermiglio (Capanna Presena) 621849.0
         y_         err
14  5076353   8.8890352
18  5124911   1.9588723
21  5150432   0.8004706
22  5118868   1.0272601
26  5152785   1.1112286
38  5086485  76.3916543
104 5132107   0.7005232
111 5142952   1.0901628
113 5130930   0.5297450
124 5133185  16.1257307
139 5140198 402.3276221
146 5084572  43.0963227
198 5120593 108.3710387
Warning messages:
1: In readLines(url) :
  incomplete final line found on 'http://dati.meteotrentino.it/service.asmx/listaStazioni'
2: In getMetaDataTrentino(return.type = "list") :
  In the above station, error exceeds 0.500000 meters! 
> 
> nn <- names(metadata)[!(names(metadata) %in% c("T0365"))]
> 
> 
> newsmet <- getMeteoDataTrentino(station=metadata[nn])
Importing T0154 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0154
Importing T0405 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0405
Importing T0153 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0153
Importing T0146 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0146
Importing T0192 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0192
Importing T0322 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0322
Importing T0401 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0401
Importing T0204 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0204
Importing T0402 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0402
Importing T0015 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0015
Importing T0222 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0222
Importing T0152 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0152
Importing T0155 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0155
Importing T0443 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0443
Importing T0415 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0415
Importing T0231 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0231
Importing T0229 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0229
Importing T0323 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0323
Importing T0030 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0030
Importing T0437 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0437
Importing T0445 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0445
Importing T0421 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0421
Importing T0029 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0029
Importing T0431 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0431
Importing T0065 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0065
Importing T0418 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0418
Importing T0224 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0224
Importing T0469 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0469
Importing T0367 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0367
Importing T0107 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0107
Importing T0118 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0118
Importing T0009 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0009
Importing T0227 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0227
Importing T0099 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0099
Importing T0262 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0262
Importing T0377 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0377
Importing T0160 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0160
Importing T0083 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0083
Importing T0397 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0397
Importing T0068 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0068
Importing T0017 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0017
Importing T0156 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0156
Importing T0157 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0157
Importing T0158 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0158
Importing T0373 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0373
Importing T0410 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0410
Importing T0233 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0233
Importing T0086 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0086
Importing T0382 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0382
Importing T0379 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0379
Importing T0210 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0210
Importing T0399 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0399
Importing T0080 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0080
Importing T0237 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0237
Importing T0105 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0105
Importing T0203 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0203
Importing T0473 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0473
Importing T0444 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0444
Importing T0439 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0439
Importing T0442 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0442
Importing T0174 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0174
Importing T0426 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0426
Importing T0423 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0423
Importing T0407 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0407
Importing T0113 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0113
Importing T0178 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0178
Importing T0209 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0209
Importing T0429 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0429
Importing T0190 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0190
Importing T0430 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0430
Importing T0371 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0371
Importing T0032 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0032
Importing T0121 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0121
Importing T0245 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0245
Importing T0246 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0246
Importing T0207 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0207
Importing T0010 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0010
Importing T0119 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0119
Importing T0232 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0232
Importing T0286 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0286
Importing T0074 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0074
Importing T0357 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0357
Importing T0238 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0238
Importing T0375 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0375
Importing T0404 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0404
Importing T0265 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0265
Importing T0071 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0071
Importing T0420 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0420
Importing T0090 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0090
Importing T0408 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0408
Importing T0098 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0098
Importing T0096 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0096
Importing T0383 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0383
Importing T0182 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0182
Importing T0144 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0144
Importing T0327 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0327
Importing T0368 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0368
Importing T0169 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0169
Importing T0226 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0226
Importing T0372 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0372
Importing T0151 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0151
Importing T0186 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0186
Importing T0008 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0008
Importing T0267 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0267
Importing T0355 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0355
Importing T0168 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0168
Importing T0024 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0024
Importing T0094 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0094
Importing T0384 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0384
Importing T0082 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0082
Importing T0425 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0425
Importing T0103 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0103
Importing T0369 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0369
Importing T0360 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0360
Importing T0069 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0069
Importing T0104 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0104
Importing T0064 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0064
Importing T0366 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0366
Importing T0409 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0409
Importing T0001 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0001
Importing T0092 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0092
Importing T0063 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0063
Importing T0380 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0380
Importing T0140 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0140
Importing T0428 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0428
Importing T0422 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0422
Importing T0018 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0018
Importing T0175 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0175
Importing T0435 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0435
Importing T0239 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0239
Importing T0142 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0142
Importing T0120 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0120
Importing T0167 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0167
Importing T0389 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0389
Importing T0102 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0102
Importing T0324 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0324
Importing T0241 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0241
Importing T0076 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0076
Importing T0075 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0075
Importing T0240 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0240
Importing T0436 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0436
Importing T0236 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0236
Importing T0424 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0424
Importing T0211 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0211
Importing T0147 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0147
Importing T0374 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0374
Importing T0417 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0417
Importing T0184 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0184
Importing T0414 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0414
Importing T0021 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0021
Importing T0450 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0450
Importing T0038 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0038
Importing T0242 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0242
Importing T0084 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0084
Importing T0189 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0189
Importing T0172 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0172
Importing T0139 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0139
Importing T0115 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0115
Importing T0116 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0116
Importing T0212 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0212
Importing T0183 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0183
Importing T0141 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0141
Importing T0393 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0393
Importing T0163 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0163
Importing T0370 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0370
Importing T0110 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0110
Importing T0392 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0392
Importing T0014 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0014
Importing T0003 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0003
Importing T0200 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0200
Importing T0148 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0148
Importing T0376 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0376
Importing T0179 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0179
Importing T0026 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0026
Importing T0419 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0419
Importing T0193 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0193
Importing T0354 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0354
Importing T0356 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0356
Importing T0129 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0129
Importing T0454 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0454
Importing T0137 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0137
Importing T0135 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0135
Importing T0136 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0136
Importing T0088 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0088
Importing T0109 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0109
Importing T0413 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0413
Importing T0177 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0177
Importing T0166 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0166
Importing T0433 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0433
Importing T0027 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0027
Importing T0432 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0432
Importing T0114 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0114
Importing T0149 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0149
Importing T0150 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0150
Importing T0363 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0363
Importing T0381 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0381
Importing T0364 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0364
Importing T0416 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0416
Importing T0243 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0243
Importing T0228 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0228
Importing T0326 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0326
Importing T0411 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0411
Importing T0101 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0101
Importing T0059 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0059
Importing T0412 ...  url: http://dati.meteotrentino.it/service.asmx/ultimiDatiStazione?codice=T0412
There were 50 or more warnings (use warnings() to see the first 50)
> newsmet <-  newsmet[!sapply(X=newsmet,is.null)]
> newsmet <-  newsmet[sapply(X=newsmet,FUN=function(x){class(x)=="smet"})]
> 
> 
> 
> oldsmetfiles <- list.files(oldsmetdir,pattern=".smet",full.name=TRUE)
> 
> 
> 
> if (length(oldsmetfiles)>0) {
+ 	
+ #	oldsmet <- lapply(X=oldsmetfiles,FUN=function(x) {
+ #				print(x) 
+ #				as.smet(x)
+ #			})
+ 	
+ 	oldsmet <- lapply(X=oldsmetfiles,FUN=as.smet)
+ 	names(oldsmet) <- sapply(X=oldsmet,FUN=function(x){x@header$station_id})
+ 
+ } else {
+ 	
+ 	oldsmet <- newsmet
+ 	
+ 	
+ }
There were 38 warnings (use warnings() to see them)
> 
> 
> 
> names_n <- intersect(names(newsmet),names(oldsmet))
> names_u <- union(names(newsmet),names(oldsmet))
> names_diff <- names_n[!(names_u %in% names(oldsmet))]
> 
> 
> oldsmet[names_diff] <- newsmet[names_diff]
> 
> names_n <- intersect(names(newsmet),names(oldsmet))
> 
> newsmet <- newsmet[names_n]
> oldsmet <- oldsmet[names_n]
> 
> 
> 
> 
> 
> 
> appendsmet <- mapply(FUN=collapse.smet,x=oldsmet,y=newsmet)
There were 18 warnings (use warnings() to see them)
> names(appendsmet) <- sapply(X=appendsmet,FUN=function(x){x@header$station_id})
> # The new appended smet was created !!
> # They are written in the following directory: (please modify as youor purpose)
> 
> appendsmet <- lapply(X=appendsmet,FUN=function(x,dir) {
+ 			print(x@header$station_id)
+ 			x@file <- sprintf("%s/%s.smet",dir,x@header$station_id)
+ 			print(x,file="internal")
+ 			
+ 		},dir=appendsmet_dir)
[1] "T0405"
[1] "T0153"
[1] "T0146"
[1] "T0401"
[1] "T0015"
[1] "T0443"
[1] "T0415"
[1] "T0229"
[1] "T0323"
[1] "T0030"
[1] "T0437"
[1] "T0445"
[1] "T0421"
[1] "T0431"
[1] "T0065"
[1] "T0418"
[1] "T0469"
[1] "T0367"
[1] "T0118"
[1] "T0009"
[1] "T0227"
[1] "T0099"
[1] "T0397"
[1] "T0373"
[1] "T0410"
[1] "T0382"
[1] "T0379"
[1] "T0210"
[1] "T0399"
[1] "T0203"
[1] "T0439"
[1] "T0426"
[1] "T0423"
[1] "T0407"
[1] "T0429"
[1] "T0371"
[1] "T0032"
[1] "T0010"
[1] "T0074"
[1] "T0357"
[1] "T0404"
[1] "T0071"
[1] "T0420"
[1] "T0408"
[1] "T0096"
[1] "T0383"
[1] "T0182"
[1] "T0368"
[1] "T0169"
[1] "T0226"
[1] "T0151"
[1] "T0355"
[1] "T0024"
[1] "T0094"
[1] "T0384"
[1] "T0082"
[1] "T0425"
[1] "T0103"
[1] "T0369"
[1] "T0360"
[1] "T0104"
[1] "T0366"
[1] "T0409"
[1] "T0092"
[1] "T0380"
[1] "T0428"
[1] "T0422"
[1] "T0175"
[1] "T0435"
[1] "T0167"
[1] "T0389"
[1] "T0076"
[1] "T0436"
[1] "T0236"
[1] "T0424"
[1] "T0211"
[1] "T0147"
[1] "T0374"
[1] "T0417"
[1] "T0414"
[1] "T0450"
[1] "T0189"
[1] "T0139"
[1] "T0115"
[1] "T0212"
[1] "T0393"
[1] "T0392"
[1] "T0014"
[1] "T0200"
[1] "T0148"
[1] "T0179"
[1] "T0419"
[1] "T0193"
[1] "T0354"
[1] "T0356"
[1] "T0129"
[1] "T0454"
[1] "T0135"
[1] "T0088"
[1] "T0109"
[1] "T0413"
[1] "T0177"
[1] "T0433"
[1] "T0027"
[1] "T0432"
[1] "T0381"
[1] "T0416"
[1] "T0228"
[1] "T0411"
[1] "T0101"
[1] "T0059"
[1] "T0412"
> 
> 
> 
> 
> 
> 
> 
> 
> 
> 
> proc.time()
   user  system elapsed 
116.487   0.394 134.750 
